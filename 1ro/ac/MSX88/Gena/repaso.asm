EOI EQU 20H
PIC EQU 20H
IMR EQU 21H
INT0 EQU 24H
PA EQU 30H
PB EQU 31H
CA EQU 32H
CB EQU 33H

ORG 3000H
; PASO 1: DEFINIR SUBRUTINA
SUB_INT: NOP
  MOV AL, 20H
  OUT EOI, AL
  IRET

ORG 2000H
; PASO2: ELEGIR ID, ELEGIMOS EL 9 - 9 * 4 = 36
; PASO3: PONER LA DIR. DE SUBRUTINA EN ID * 4
MOV BX, 36
MOV AX, SUB_INT
MOV [BX], AX

; PASO4: CONFIGURAMOS PIC
CLI
; CONFIGURO IMR
MOV AL, 11111110B
OUT IMR, AL

MOV AL, 0
OUT INT0, AL

STI

LOOP: JMP LOOP

HLT
END