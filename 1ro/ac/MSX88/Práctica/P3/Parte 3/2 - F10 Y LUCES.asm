PA EQU 30H
PB EQU 31H
CA EQU 32H
CB EQU 33H

IMR EQU 21H
EOI EQU 20H
INT0 EQU 24H
N_F10 EQU 10

ORG 40
DW RUT_F10

ORG 1000H
ESTADO DB 0

ORG 3200H
RUT_F10: PUSH AX
         XOR ESTADO, 0FFH
         MOV AL, ESTADO
         OUT PB, AL
         MOV AL, EOI
         OUT EOI, AL
         POP AX
         IRET

ORG 2000H
CLI
MOV AL, 0 ; PUERTO DE DATOS TODO SALIDA
OUT CB, AL
OUT PB, AL
MOV AL, 0FEH
OUT IMR, AL
MOV AL, N_F10
OUT INT0, AL
STI
LOOP: JMP LOOP

INT 0
END
